1.
	1.0 
		标准号：GB/T 28181-2016
		中文标准名称：公共安全视频监控联网系统信息传输、交换、控制技术要求
		[在线预览]
		https://openstd.samr.gov.cn/bzgk/gb/newGbInfo?hcno=469659DC56B9B8187671FF08748CEC89
	1.1 GB28181的协议详解
		https://blog.csdn.net/fanyun_01/article/details/120536834
		
	1.2 GB28181/RTSP/Onvif/HikSDK/Ehome协议视频共享平台EasyCVR人脸识别系统助力打造智慧安检系统
		https://blog.csdn.net/TsingSee/article/details/110947326
2. 资源
	好例子网。
	鸠摩搜书
	github
3. GB28181相关项目、资源参考
	https://github.com/ZLMediaKit/ZLMediaKit
		https://gitee.com/xia-chu/ZLMediaKit
		qq群号: 690854210
		
		wiki：
		https://github.com/ZLMediaKit/ZLMediaKit/wiki
			含【测试文档】【使用教程】【相关文档】【代码解读】【Pages 含很多功能使用文档】
	
	https://github.com/648540858/wvp-GB28181-pro
		https://gitee.com/pan648540858/wvp-GB28181-pro
		部署文档:
		https://doc.wvp-pro.cn/#/
		
		docker镜像：
		https://hub.docker.com/r/648540858/wvp_pro
	https://github.com/banmajio/banma-GB28181Server
	
	https://github.com/swwheihei/wvp-GB28181
	
	
	gb28181 开源服务器:
		
		https://www.csdn.net/tags/MtTakgysODA0NzctYmxvZwO0O0OO0O0O.html
		
		#部分可以参考，不完整。
	java：wvp-GB28181-pro:
	
		https://huaweicloud.csdn.net/6331189ed3efff3090b51e39.html?
		
		源码方式编译运行：
			源码方式的话，要先启动ZLM服务，才能运行，可以参考这里{https://blog.csdn.net/zhizhengguan/article/details/124682425}
		
4. RTP报文头中 SSRC和CSRC区别
	https://blog.csdn.net/huangdenan/article/details/117751982
	
	RTP中SSRC
	https://blog.csdn.net/sunxiaopengsun/article/details/70172090
	
5.wvp-GB28181-pro编译，测试，验证
	
	wvp-GB28181-pro项目编译：
		参考：
			https://huaweicloud.csdn.net/6331189ed3efff3090b51e39.html?
			https://doc.wvp-pro.cn/#/_content/introduction/compile
			
			作者参考：
				参考：WVP+ZLMediaKit+MediaServerUI实现摄像头GB28181推流播放录制
					https://notemi.cn/wvp---zlmedia-kit---mediaserverui-to-realize-streaming-playback-and-recording-of-camera-gb28181.html/comment-page-1
				gb28181 在线文档
					
				参考：
					https://blog.csdn.net/qq_33418407/article/details/121958607
		运行WVP
			访问管理页面
			http://你的ip:18080
			http://192.168.1.70:18080
		异常：
			cd wvp-GB28181-pro/web_src/
			npm --registry=https://registry.npm.taobao.org install
			
			npm WARN ajv-keywords@3.5.2 requires a peer of ajv@^6.9.1 but none is installed.
		 You must install peer dependencies yourself.
		 
		 参考：
		 https://blog.csdn.net/m0_46270930/article/details/118738185
			
			解决办法：
				npm install ajv@^6.9.1
		
			/ building for production...Browserslist: caniuse-lite is outdated. Please run:
			npx browserslist@latest --update-db
		npm run build后提示：
			Why you should do it regularly:
			https://github.com/browserslist/browserslist#browsers-data-updating
			Browserslist: caniuse-lite is outdated. Please run:
			npx browserslist@latest --update-db
			
			#暂不升级试试。
			
		运行提示[未注册的zlm] :
			2022-10-20 14:00:35.506 [main] INFO  com.genersoft.iot.vmp.media.zlm.ZLMRunner:79 - [zlm] 等待默认zlm中...
			2022-10-20 14:00:35.514 [main] INFO  c.g.iot.vmp.service.impl.MediaServerServiceImpl:98 - [zlm] 缓存初始化
			2022-10-20 14:00:37.243 [main] WARN  c.g.iot.vmp.service.impl.MediaServerServiceImpl:359 - [未注册的zlm] 拒接接入：your_server_id来自192.168.133.10：80
			2022-10-20 14:00:37.247 [main] WARN  c.g.iot.vmp.service.impl.MediaServerServiceImpl:360 - 请检查ZLM的<general.mediaServerId>配置是否与WVP的<media.id>一致
			2022-10-20 14:00:37.301 [main] INFO  c.g.iot.vmp.storager.impl.RedisCatchStorageImpl:769 - [redis通知]获取所有推流设备的状态
			
			##解决办法：检查ZLM的<general.mediaServerId>配置是否与WVP的<media.id>一致，配置一致即可。
	5.5 使用idea运行调试项目；
		5.5.1 16 
			Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'proxyServletConfig': Unsatisfied dependency expressed through field 'mediaServerService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mediaServerServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'server.port' in value "${server.port}"
			2022-10-24 16:21:08.089  INFO 10244 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
			2022-10-24 16:21:08.127  WARN 10244 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat

			org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
			
			分析1：springboot,maven项目，jdk没有配置对（运行项目时打印使用java-11版本，而电脑暂无安装该版本的jdk）。
				File->ProjectStructure->Project-Settings ->Project->Project-SDK:
			分析2：【上面分析1】配置好后。
				在项目中将application.yml				
					active: local 使用dev即可。
	5.6 功能与使用
		5.6.1 接入设备
		5.6.2 设备使用
			通道数为0，需要在nvr端，添加视频通道编码ID
			如：3402000001320000012
			参考GB28181编码规则
		
6. 基于EasyIPCamera实现的数字网络摄像机IPCamera的模拟器IPC RTSP Simulator
	http://t.zoukankan.com/babosa-p-9217843.html
	
7.ZLMediaKit编译，测试，验证

	##参考：https://blog.csdn.net/zhizhengguan/article/details/124682425
	
	cmake .. 时报错：
		CMake Error at 3rdpart/CMakeLists.txt:69 (add_library):
		  No SOURCES given to target: flv

		CMake Error at 3rdpart/CMakeLists.txt:91 (add_library):
		  No SOURCES given to target: mpeg

		CMake Error at 3rdpart/CMakeLists.txt:53 (add_library):
		  No SOURCES given to target: mov

		CMake Error at 3rdpart/CMakeLists.txt:188 (add_library):
		  No SOURCES given to target: zltoolkit

		CMake Error at 3rdpart/CMakeLists.txt:28 (add_library):
		  No SOURCES given to target: jsoncpp

		CMake Generate step failed.  Build files cannot be regenerated correctly.

		已经执行过：git submodule update --init
		
		直接先编译试试？make -j 2 提示失败。
		查看3rdpart/zltoolkit子模块源码没有下载下来。
		
		在ubuntu下的文件系统内的目录重新下载。一切都ok
	
	服务器的启动与关闭：https://github.com/ZLMediaKit/ZLMediaKit/wiki/服务器的启动与关闭
	启动方式
		./MediaServer 
		./MediaServer  -d
		./MediaServer  -d &	//在终端能看到日志
		nohup ./MediaServer -d &	//在终端不能看到日志
		
		注意：
		如果你启动MediaServer后需要关闭shell，用第三种方式,否则关闭shell会导致MediaServer一起被关闭。
		如果你会使用到FFmpeg相关功能，你应该这样启动程序nohup ./MediaServer -d &，否则在fork FFmpeg进程时会导致MediaServer进程挂起。
		
		启动异常:先使用./MediaServer 看看是否能成功
			2022-10-21 17:13:13.030 W MediaServer[4818-MediaServer] sockutil.cpp:396 bind_sock6 | 绑定套接字失败:permission denied
			2022-10-21 17:13:13.038 W MediaServer[4818-MediaServer] main.cpp:345 start_main | 端口占用或无权限:listen on :::554 failed:permission denied
			2022-10-21 17:13:13.039 E MediaServer[4818-MediaServer] main.cpp:346 start_main | 程序启动失败，请修改配置文件中端口号后重试!
			
			使用sudo ./MediaServer正常。

	配置文件的热加载

		修改并保存配置文件后，在shell里面输入killall -1 MediaServer就能使ZLMediaKit热加载配置文件
	关闭服务器

		如果你是后台启动方式，请在shell中输入killall -2 MediaServer以便优雅关闭服务器(程序收到SIGINT信号后会自动释放资源并退出)。
		否则你可以同时按下Ctr + C退出程序。
		
	ZLMediaKit推流播放测试：
		https://github.com/ZLMediaKit/ZLMediaKit/wiki/ZLMediaKit推流测试
	ffmpeg -re -i "/home/eink/test-file/paiDuiGe.mp4" -vcodec h264 -acodec aac -f rtsp -rtsp_transport tcp rtsp://127.0.0.1/live/test
	异常提示：
	The encoder 'aac' is experimental but experimental codecs are not enabled, add '-strict -2' if you want to use it.
		参考博客：
		https://blog.csdn.net/Trance95/article/details/117407864
		我当前使用ffmpeg版本2.8，
		使用-strict -2就不提示了错误了。但运行效果收到的感觉推流不完全对？？
		
	ffmpeg -re -i "/home/eink/test-file/paiDuiGe.mp4" -vcodec h264 -acodec aac -strict -2 -f rtsp -rtsp_transport tcp rtsp://127.0.0.1/live/test
	
	换成：ffmpeg version 3.4.8 
		Cannot load libcuda.so.1
		Error initializing output stream 0:0 -- Error while opening encoder for output stream #0:0 - maybe incorrect parameters such as bit_rate, rate, width or height
		
	FFmpeg转码错误Cannot load libcuda.so.1
	https://blog.csdn.net/yzhang6_10/article/details/81349532
	详情记录见【25-06-ffmpeg-module.txt，6.2.2】
	
	
	ffmpeg -re -i "/home/eink/test-file/paiDuiGe.mp4" -vcodec h264 -acodec aac -f rtsp -rtsp_transport tcp rtsp://127.0.0.1/live/test
	ffmpeg -re -i "/home/eink/test-file/paiDuiGe.mp4" -vcodec h264 -acodec aac -f rtsp -rtsp_transport tcp rtsp://127.0.0.1/live/test


	ffmpeg -re -i "/home/eink/test-file/paiDuiGe.mp4" -vcodec h265 -acodec aac -f rtsp -rtsp_transport tcp rtsp://127.0.0.1/live/test

	ffmpeg -re -i "/home/eink/test-file/paiDuiGe.mp4" -vcodec h264 -acodec aac -f flv rtmp://127.0.0.1/live/test

	trmp:
		ffmpeg -re -i "/home/eink/test-file/paiDuiGe.mp4" -vcodec h264 -acodec aac -strict -2 -f flv rtmp://127.0.0.1/live/test

	rtp:
		ffmpeg -re -i "/home/eink/test-file/paiDuiGe.mp4" -vcodec h264 -acodec aac -strict -2 -f rtp_mpegts rtp://127.0.0.1:10000

	Cannot load libcuda.so.1
			Error initializing output stream 0:0 -- #0:0 - maybe incorrect parameters such as bit_rate, rate, width or height
			
			rtsp://192.168.133.10:554/live/test
			
			
			rtmp://192.168.133.10/live/test
			
			http://192.168.133.10:554/live/test/hls.m3u8
			http://192.168.0.59/live/test/hls.m3u8
			
			rtp:需要重新拼接：
				rtmp可以直接播：
				rtmp://192.168.133.10/rtp/962FD891
				rtsp可以直接播：
				rtsp://192.168.133.10/rtp/2B8A633A
				
				hls://192.168.133.10/rtp/2B8A633A
					需要转化才可以播放：
					http://192.168.133.10/rtp/BF37B618/hls.m3u8
				fmp4://192.168.133.10/rtp/962FD891
					http://192.168.133.10/rtp/055A1AAE.live.mp4
				ts://192.168.133.10/rtp/0AC196F0
					ws://192.168.133.10/rtp/56A37A3A.live.mp4 #暂没调通
					ws://192.168.133.10/rtp/AF9B8436.live.flv #暂没调通
	
	GB28181推流：
		https://github.com/ZLMediaKit/ZLMediaKit/wiki/GB28181推流
	点播:
		要在 ZLMediaKit 中实现点播，只需要将 mp4 文件放到 www/record 下，默认情况下，应用名是 record，可以在config.ini中修改
		点播 URL 就是

		rtsp://192.168.0.59/record/test.mp4
		rtmp://192.168.0.59/record/test.mp4
		http://192.168.133.10/record/paiDuiGe.mp4 (通用http点播，推荐)
	HTTP API
		/index/api/getApiList：
			本地使用：直接在浏览器中输入http://127.0.0.1/index/api/getApiList即可		
			如果是在其它主机上操作的话，接口会返回错误：
			secret 在配置文件 config.ini 中有定义，直接拷贝出来，跟在 /index/api/getApiList 后面.
			http://192.168.133.10/index/api/getApiList?secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc
		
		/index/api/addFFmpegSource
			{{ZLMediaKit_URL}}/index/api/addFFmpegSource?secret={{ZLMediaKit_secret}}&src_url=http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4&dst_url=rtmp://127.0.0.1/live/hks2&timeout_ms=10000&enable_hls=0&enable_mp4=0
			
			http://192.168.133.10/index/api/addFFmpegSource?secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc&src_url=http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4&dst_url=rtmp://127.0.0.1/live/hks2&timeout_ms=10000&enable_hls=0&enable_mp4=0
						
			rtmp://127.0.0.1/live/hks2
			
			服务端日志：
				{可以看到ffmpeg推流命令}
				
				MediaServer[99344-event poller 1] FFmpegSource.cpp:97 play | /usr/bin/ffmpeg -re -i http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4 -c:a aac -strict -2 -ar 44100 -ab 48k -c:v libx264 -f flv rtmp://192.168.133.10/live/hks2
			#如果要取消拉流的话，可以使用 /index/api/delFFmpegSource 接口进行关闭
				http://192.168.133.10/index/api/delFFmpegSource?secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc&key=5f748d2ef9712e4b2f6f970c1d44d93a
		/index/api/addStreamProxy
			http://192.168.133.10/index/api/addStreamProxy?vhost=192.168.133.10&app=live&stream=test1&url=rtsp://admin:123456@192.168.31.66/media/video2&rtp_type=0
			
			配置rtsp地址，将我们摄像机的rtsp拉流地址配置到服务器，由服务器向IPC拉流。
			
			拉流地址：	
			url=rtsp://admin:123456@192.168.31.66/media/video2
			
			使用在线地址模拟摄像头。
			
			http://192.168.133.10/index/api/addStreamProxy?secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc&vhost=192.168.133.10&app=live&stream=test1&url=http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4&rtp_type=0
			
				{
					"code": -400,
					"msg": "not supported play schema:http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4"
				}
		24、/index/api/openRtpServer
			http://192.168.133.10/index/api/openRtpServer?secret=035c73f7-bb6b-4889-a715-d9eb2d1925cc&port=0&enable_tcp=1&stream_id=test
			
			30006
			
			ffmpeg -re -i "/home/eink/test-file/paiDuiGe.mp4" -vcodec h264 -acodec aac -strict -2 -f rtp_mpegts rtp://127.0.0.1:30008
			
			rtmp://192.168.133.10/rtp/test
			
8. 海康威视
	8.1 官网获取资料。
		https://www.hikvision.com/
		
	8.2 nvr资料：
			产品中心-存储产品；根据型号，资料下载。
			如型号：DS-7104N-F1/4P(C),该型号不支持GB28181
				DS-7804N-K1/C(D),支持GB28181
			平台接入：萤石云
				www.ys7.com/
				
					服务与下载-下载中心-使用手册及升级程序。
		q1，海康威视NVR录像机是否支持国标GB28181、Ehome和萤石云功能同时开启？
				https://www.jimay.com/support/61928.html
				
				{
				支持的海康录像机型号&系列如下：

				1、海康DS-XXXXN-I系列（且主控版本≥V4.1.50）及之后版本

				2、海康超脑（且主控版本≥V4.1.60）

				3、海康DS-XXXXN-M（B）以及N-I-V2

				4、部分经销系列4.0lite录像机（且主控版本≥V4.30.XX及以上版本），建议实测为准}
				
				京东回复：
					国标gb28128 EHOME  79/88系列 都支持
					gb28128 EHOME 78系列除了78-F （78-R 78-K 都支持国标gb28128 EHOME ）
					71系列 全系列 不支持
			
			海康录像机（支持gb281,不带硬盘）
			https://item.jd.com/10023408955166.html	
			硬盘
			https://item.jd.com/10020519643736.html
			
	8.3 摄像机
		8.3.0 
			a，DS-IPC-T12HV3-IA。
				不能单独使用，需要配合摄像机nvr一起才能使用。
				官网有写支持接口协议：
					接口协议( API ):开放型网络视频接口, ISAPI . SDK. G828181 ( 2016 )
					
				
				这款是支持 电源供电 内存卡存储 支持网线连接路由器供网 也可以使用内置4G卡供网哦 第一次安装需要电脑激活哦
				能单独使用的摄像头，产品型号很少，这款可以：：https://item.jd.com/100035687058.html
					接口协议( API )开放型网络视频接口（onvif） , ISAPI , SDK , GB28181 , Ehome ( 2.0/4.0)
					
			q1，海康威视ipc需要连接nvr吗
				
			q2,海康威视nvr要和ipc连接在一起使用吗
				NVR与IPC的连接操作说明
				https://wenku.baidu.com/view/cb7d851ff21dc281e53a580216fc700abb6852a3.html?_wkts_=1667802387997
				
			q3，教你如何认识摄像机和录像机的区别
				http://www.uwill.com.cn/content/?480.html
				海康威视 nvr 和网络硬盘录像机有什么区别
				https://www.qiuzhibude.com/wenda/host/q_167775.html
			q4,海康威视监控摄像头与录像机要同品牌吗？为什么？
				https://www.530311.com/know/show-2192272.html
			q5 海康威视两款无线摄像机和录像机该怎么选？了解清楚别花冤枉钱
				https://www.163.com/v/video/VCHHAP6E4.html
			q6,海康威视录像机NVR如何配置GB28181？
				https://www.jimay.com/support/61939.html
				
				海康威视IPC和NVR以国标协议（GB28181）接入平台的配置介绍
				https://zhuanlan.zhihu.com/p/476745458
			
			q8,
				

		8.3.1 激活
			8.3.1.1 通过浏览器激活。
				电脑和摄像机在同一个局域网。相同1段的网。
				注意：摄像机不通过NVR连接，可以直接与交换机连接。
				地址：http://192.168.1.68/doc/page/login.asp
		8.3.2 客户端软件激活及连接使用。
			访问海康威视官网，进入服务支持 > 下载中心 > 桌面应用软件 > Hikvision Tools（含SADP、录像容量计算等工具），获取SADP软件
			访问海康威视官网，进入服务支持 > 下载中心 > 桌面应用软件 > 客户端软件，获取iVMS-4200客户端软件
			
		